<!DOCTYPE html PUBLIC
  "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- (c) Copyright 2008 SailPoint Technologies, Inc., All Rights Reserved. -->

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jstl/core" 
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:t="http://myfaces.apache.org/tomahawk"
      xmlns:sp="http://sailpoint.com/ui"
      xmlns:a4j="http://richfaces.org/a4j">
<body>
<ui:composition>
  <f:view>
    
    <table class="width100" cellspacing="0" cellpadding="0">
      <tr>
        <td>          
          <table class="width100">       

            <tr>
              <td>                
                <h:outputText styleClass="textBold" 
                  value="#{sp:localizeKey(searchBean.inputs['identityRequest.requestId'].description)}"/>
              </td>
              <td>
                <h:inputText id="requestId" styleClass="searchInputText inputWidth" value="#{searchBean.inputs['identityRequest.requestId'].value}" />
              </td>
              <td>                
                <h:outputText styleClass="textBold" 
                  value="#{sp:localizeKey(searchBean.inputs['identityRequest.completionStatus'].description)}"/>
              </td>
              <td>
                <h:selectOneMenu id="identityRequestCompletionStatus" styleClass="searchInputSelect"
                  value="#{searchBean.inputs['identityRequest.completionStatus'].value}">
                  <f:selectItems value="#{sp:getSelectItems(taskResult.completionStatuses,true)}"/>
                </h:selectOneMenu>
              </td>
            </tr>
            <tr>
              <td>                
                <h:outputText styleClass="textBold" 
                  value="#{sp:localizeKey(searchBean.inputs['identityRequest.requestorId'].description)}"/>
              </td>
              <td>
                <div id="requestorSuggest"></div>
                <t:inputHidden id="requestor" value="#{searchBean.inputs['identityRequest.requestorId'].value}" forceId="true">
                </t:inputHidden>   
                <div id="requestorVal" style="display:none">#{sp:getDisplayNameForId('Identity',searchBean.inputs['identityRequest.requestorId'].value)}</div>        
              </td>
              <td>                
                <h:outputText styleClass="textBold" 
                  value="#{sp:localizeKey(searchBean.inputs['identityRequest.priority'].description)}"/>
              </td>
              <td>
                <h:selectOneMenu id="identityRequestPriority" styleClass="searchInputSelect"
                  value="#{searchBean.inputs['identityRequest.priority'].value}">
                  <f:selectItems value="#{sp:getSelectItems(workItem.levels,true)}"/>
                </h:selectOneMenu>
              </td>
            </tr>
            <tr>
              <td>                
                <h:outputText styleClass="textBold" 
                  value="#{sp:localizeKey(searchBean.inputs['identityRequest.requesteeId'].description)}"/>
              </td>
              <td>
                <div id="requesteeSuggest"></div>
                <t:inputHidden id="requestee" value="#{searchBean.inputs['identityRequest.requesteeId'].value}" forceId="true">
                </t:inputHidden>   
                <div id="requesteeVal" style="display:none">#{sp:getDisplayNameForId('Identity',searchBean.inputs['identityRequest.requesteeId'].value)}</div>        
              </td>
              <td>                
                <h:outputText styleClass="textBold" 
                  value="#{sp:localizeKey(searchBean.inputs['identityRequest.type'].description)}"/>
              </td>
              <td>
                <h:selectOneMenu id="identityRequestFlow" styleClass="searchInputSelect"
                  value="#{searchBean.inputs['identityRequest.type'].value}">
                  <f:selectItem itemLabel="" itemValue="" />
                  <f:selectItems value="#{rolesRequest.flowNames}"/>
                </h:selectOneMenu>
              </td>
            </tr>
            <tr>
              <td>                
                <h:outputText styleClass="textBold" 
                  value="#{msgs.srch_input_def_isverified}"/>
              </td>
              <td>
                <h:selectOneMenu id="identityRequestVerified" styleClass="searchInputSelect"
                  value="#{searchBean.inputs['identityRequest.verified'].inputTypeValue}">
                  <f:selectItem itemLabel="" itemValue="" />
                  <f:selectItem itemLabel="#{msgs.txt_true}" itemValue="true" />
                  <f:selectItem itemLabel="#{msgs.txt_false}" itemValue="false" />
                </h:selectOneMenu>
              </td>
              <td>                
                <h:outputText styleClass="textBold" 
                  value="#{sp:localizeKey(searchBean.inputs['identityRequestItem.approvalState'].description)}"/>
              </td>
              <td>
                <h:selectOneMenu id="identityRequestApprovalState" styleClass="searchInputSelect"
                  value="#{searchBean.inputs['identityRequestItem.approvalState'].value}">
                  <f:selectItems value="#{sp:getSelectItems(workItem.states,true)}"/>
                </h:selectOneMenu>
              </td>
            </tr>
            <tr>
              <td>                
                <h:outputText styleClass="textBold" 
                  value="#{sp:localizeKey(searchBean.inputs['identityRequestItem.application'].description)}"/>
              </td>
              <td>
                <div id="requestApplicationSuggest"/>
                <t:inputHidden id="requestApplication" value="#{searchBean.inputs['identityRequestItem.application'].value}" forceId="true"/>
                <div id="requestApplicationVal" style="display:none">#{searchBean.inputs['identityRequestItem.application'].value}</div>
              </td>
              <td>                
                <h:outputText styleClass="textBold" 
                  value="#{sp:localizeKey(searchBean.inputs['identityRequestItem.provisioningState'].description)}"/>
              </td>
              <td>
                <h:selectOneMenu id="identityRequestProvisioningState" styleClass="searchInputSelect"
                  value="#{searchBean.inputs['identityRequestItem.provisioningState'].value}">
                  <f:selectItems value="#{sp:getSelectItems(searchBean.provisioningStates,true)}"/>
                </h:selectOneMenu>
              </td>
            </tr>
            <tr>
              <td>                
                <h:outputText styleClass="textBold" 
                  value="#{sp:localizeKey(searchBean.inputs['identityRequestItem.instance'].description)}"/>
              </td>
              <td>
                <div id="requestInstanceSuggest"></div>
                <t:inputHidden id="requestInstance" value="#{searchBean.inputs['identityRequestItem.instance'].value}" forceId="true"/>
                <div id="requestInstanceVal" style="display:none">#{searchBean.inputs['identityRequestItem.instance'].value}</div>
              </td>
              <td>                
                <h:outputText styleClass="textBold" 
                  value="#{sp:localizeKey(searchBean.inputs['identityRequestItem.compilationStatus'].description)}"/>
              </td>
              <td>
                <h:selectOneMenu id="identityRequestCompilationStatus" styleClass="searchInputSelect"
                  value="#{searchBean.inputs['identityRequestItem.compilationStatus'].value}">
                  <f:selectItems value="#{sp:getSelectItems(searchBean.compilationStatuses,true)}"/>
                </h:selectOneMenu>
              </td>
            </tr>
            <tr>
              <td>                
                <h:outputText styleClass="textBold" 
                  value="#{sp:localizeKey(searchBean.inputs['identityRequestItem.operation'].description)}"/>
              </td>
              <td>
                <div id="operationSuggest"></div>
                <t:inputHidden id="operation" value="#{searchBean.inputs['identityRequestItem.operation'].value}" forceId="true">
                </t:inputHidden>   
                <div id="operationVal" style="display:none">#{searchBean.inputs['identityRequestItem.operation'].value}</div>        
              </td>
              <td>                
                <h:outputText styleClass="textBold" 
                  value="#{sp:localizeKey(searchBean.inputs['identityRequest.state'].description)}"/>
              </td>
              <td>
                <div id="stateSuggest"></div>
                <t:inputHidden id="state" value="#{searchBean.inputs['identityRequest.state'].value}" forceId="true">
                </t:inputHidden>   
                <div id="stateVal" style="display:none">#{searchBean.inputs['identityRequest.state'].value}</div>        
              </td>
            </tr>
            <ui:fragment rendered="#{searchBean.externalTicketIdVisible}">
              <tr>
                <td>
                  <h:outputText styleClass="textBold" 
                    value="#{sp:localizeKey(searchBean.inputs['identityRequest.externalTicketId'].description)}"/>
                </td>
                <td>
                  <h:inputText id="externalTicketId" class="searchInputText inputWidth" value="#{searchBean.inputs['identityRequest.externalTicketId'].value}" />
                </td>
              </tr>
            </ui:fragment>
            <!-- Date filters -->
            <tr>
              <td colspan="4" style="border-bottom:1px #ccc solid">
                <h:outputText value=" "/>
              </td>
            </tr>
            <tr class="odd">
              <td colspan="4">
                <h:outputText styleClass="textBold" 
                  value="#{msgs.label_filter_by_date}"/>
              </td>
            </tr>
            <tr>
              <td width="15%">
                  <h:outputText styleClass="textBold" 
                    value="#{sp:localizeKey(searchBean.inputs['identityRequest.date'].description)}"/>
              </td>
              <td colspan="3">
                  <h:selectOneMenu styleClass="searchInputSelect"
                    id="identityRequestDates" value="#{searchBean.inputs['identityRequest.date'].value}">
                    <f:selectItems value="#{searchBean.dateOptions}"/>
                  </h:selectOneMenu>
              </td>
            </tr>
            <tr>
              <td width="15%">
                  <h:outputText styleClass="textBold" value="#{msgs.start_date}"/>
                  <input type="checkbox" id="identityRequestStartDateSelect" name="identityRequestStartDateSelect" style="margin:5px;vertical-align:middle"
                    onclick="SailPoint.Analyze.updateStartType(this, $('identityRequestSearchForm:identityRequestStartDateType'), $('identityRequestStartDateDiv'));"/>
                  <h:inputHidden id="identityRequestStartDateType" value="#{searchBean.inputs['identityRequest.startDate'].inputTypeValue}"/>
              </td>
              <td align="left" width="35%">
                <div id="identityRequestStartDateDiv" style="display:#{search.inputs['identityRequest.startDate'].inputTypeValue == 'After' ? '' : 'none'}" class="font10">
                  <sp:inputDate type="date" id="identityRequestStartDate" popupCalendar="true"  ampm="true" timeZone="#{taskSchedule.userTimeZoneId}" addResources="false" 
                    value='#{searchBean.inputs["identityRequest.startDate"].objectDateValue}' imageLocation="/scripts/myfacescalendar" 
                    javascriptLocation="/scripts/myfacescalendar" styleLocation="/scripts/myfacescalendar" styleClass="tomahawkInputDate"/>
                </div>
              </td>                  
              <td width="15%">
                  <h:outputText styleClass="textBold" value="#{msgs.end_date}"/>
                  <input type="checkbox" id="identityRequestEndDateSelect" name="identityRequestEndDateSelect" style="margin:5px;vertical-align:middle"
                    onclick="SailPoint.Analyze.updateEndType(this, $('identityRequestSearchForm:identityRequestEndDateType'), $('identityRequestEndDateDiv'));"/>
                  <h:inputHidden id="identityRequestEndDateType" value="#{searchBean.inputs['identityRequest.endDate'].inputTypeValue}"/>
              
              </td>
              <td align="left" width="35%">
                <div id="identityRequestEndDateDiv" style="display:#{search.inputs['identityRequest.endDate'].inputTypeValue == 'Before'? '' : 'none'}">
                  <sp:inputDate type="date" id="identityRequestEndDate" popupCalendar="true"  ampm="true" timeZone="#{searchBean.userTimeZoneId}" addResources="false"
                   value='#{searchBean.inputs["identityRequest.endDate"].objectDateValue}' imageLocation="/scripts/myfacescalendar" 
                   javascriptLocation="/scripts/myfacescalendar" styleLocation="/scripts/myfacescalendar" styleClass="tomahawkInputDate"/>
                </div>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </f:view>
  <script type="text/javascript" defer="defer">
    SailPoint.Utils.styleSelects();
  </script>
</ui:composition>
</body>
</html>